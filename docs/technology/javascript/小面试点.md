---
title: 小面试点
---

# 一些简单但你也必须懂的基础

## Object.create
作用：Object.create可以用来创建一个纯净的空对象,这个对象没有原型,如`Object.create(null)`

原理：实际上是创建一个空对象，将空对象的__proto__指向第一个参数
```js
// 比如Object.create(null)的实现
const obj = {}
obj.__proto__ = null
```

## new原理
new的过程其实不复杂，直接看MDN上的描述

> new 关键字会进行如下的操作：
>
> 1. 创建一个空的简单JavaScript对象（即{}）；
> 2. 为步骤1新创建的对象添加属性__proto__，将该属性链接至构造函数的原型对象 ；
> 3. 将步骤1新创建的对象作为this的上下文 ；
> 4. 如果该函数没有返回对象，则返回this。

```js
const _new = function (fn, ...args) {
    /* 第一步相当于
    const obj = {}
    obj.__proto__ = fn.prototype
    */
    const obj = Object.create(fn.prototype);
    const ret = fn.apply(obj, args);
    return ret instanceof Object ? ret : obj;
}
```


## 参考
> [Object.create()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create)
>
> [new 运算符](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new)

