<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端安全 | 吴泽鹏</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog-press/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/blog-press/assets/css/0.styles.1c926e40.css" as="style"><link rel="preload" href="/blog-press/assets/js/app.6139d12d.js" as="script"><link rel="preload" href="/blog-press/assets/js/8.ae6c3984.js" as="script"><link rel="preload" href="/blog-press/assets/js/2.0264d6f2.js" as="script"><link rel="preload" href="/blog-press/assets/js/32.e9b32179.js" as="script"><link rel="preload" href="/blog-press/assets/js/3.d809f9f2.js" as="script"><link rel="prefetch" href="/blog-press/assets/js/10.d7e47f38.js"><link rel="prefetch" href="/blog-press/assets/js/11.dec774c1.js"><link rel="prefetch" href="/blog-press/assets/js/12.bf4e5bd9.js"><link rel="prefetch" href="/blog-press/assets/js/13.b8d07eb6.js"><link rel="prefetch" href="/blog-press/assets/js/14.c00caa94.js"><link rel="prefetch" href="/blog-press/assets/js/15.9a666249.js"><link rel="prefetch" href="/blog-press/assets/js/16.bd6a696c.js"><link rel="prefetch" href="/blog-press/assets/js/17.3cd69cd0.js"><link rel="prefetch" href="/blog-press/assets/js/18.517287fb.js"><link rel="prefetch" href="/blog-press/assets/js/19.91ac48bf.js"><link rel="prefetch" href="/blog-press/assets/js/20.e32f2fcd.js"><link rel="prefetch" href="/blog-press/assets/js/21.0da0a074.js"><link rel="prefetch" href="/blog-press/assets/js/22.1bd30e45.js"><link rel="prefetch" href="/blog-press/assets/js/23.48cb1fe1.js"><link rel="prefetch" href="/blog-press/assets/js/24.2f91fffc.js"><link rel="prefetch" href="/blog-press/assets/js/25.dde1cf53.js"><link rel="prefetch" href="/blog-press/assets/js/26.b4efff9b.js"><link rel="prefetch" href="/blog-press/assets/js/27.37b9aeae.js"><link rel="prefetch" href="/blog-press/assets/js/28.5b257151.js"><link rel="prefetch" href="/blog-press/assets/js/29.0234654e.js"><link rel="prefetch" href="/blog-press/assets/js/30.138d64b3.js"><link rel="prefetch" href="/blog-press/assets/js/31.5083ded0.js"><link rel="prefetch" href="/blog-press/assets/js/33.009994b5.js"><link rel="prefetch" href="/blog-press/assets/js/34.3d45314e.js"><link rel="prefetch" href="/blog-press/assets/js/35.0bb4365b.js"><link rel="prefetch" href="/blog-press/assets/js/36.7bc05dac.js"><link rel="prefetch" href="/blog-press/assets/js/37.c0c6a5c8.js"><link rel="prefetch" href="/blog-press/assets/js/38.f4da4354.js"><link rel="prefetch" href="/blog-press/assets/js/39.5649b375.js"><link rel="prefetch" href="/blog-press/assets/js/4.9e4232dd.js"><link rel="prefetch" href="/blog-press/assets/js/40.2894689c.js"><link rel="prefetch" href="/blog-press/assets/js/41.11221830.js"><link rel="prefetch" href="/blog-press/assets/js/42.d2488d65.js"><link rel="prefetch" href="/blog-press/assets/js/43.66d734aa.js"><link rel="prefetch" href="/blog-press/assets/js/44.1ffab8f9.js"><link rel="prefetch" href="/blog-press/assets/js/45.00e58203.js"><link rel="prefetch" href="/blog-press/assets/js/46.fa6aee68.js"><link rel="prefetch" href="/blog-press/assets/js/47.b5f65afa.js"><link rel="prefetch" href="/blog-press/assets/js/48.61e98198.js"><link rel="prefetch" href="/blog-press/assets/js/49.6207cdd1.js"><link rel="prefetch" href="/blog-press/assets/js/5.007799f8.js"><link rel="prefetch" href="/blog-press/assets/js/50.7dc3280a.js"><link rel="prefetch" href="/blog-press/assets/js/51.825a4e12.js"><link rel="prefetch" href="/blog-press/assets/js/52.ca846de1.js"><link rel="prefetch" href="/blog-press/assets/js/53.3e4e9df9.js"><link rel="prefetch" href="/blog-press/assets/js/54.fcf0bda2.js"><link rel="prefetch" href="/blog-press/assets/js/55.f149c70b.js"><link rel="prefetch" href="/blog-press/assets/js/56.de5a9567.js"><link rel="prefetch" href="/blog-press/assets/js/57.8047ad0c.js"><link rel="prefetch" href="/blog-press/assets/js/58.2eb97615.js"><link rel="prefetch" href="/blog-press/assets/js/59.5b73b1ee.js"><link rel="prefetch" href="/blog-press/assets/js/6.93b98aae.js"><link rel="prefetch" href="/blog-press/assets/js/60.ff4d1ea3.js"><link rel="prefetch" href="/blog-press/assets/js/61.251fdbfd.js"><link rel="prefetch" href="/blog-press/assets/js/62.5e3e7061.js"><link rel="prefetch" href="/blog-press/assets/js/63.7a89825d.js"><link rel="prefetch" href="/blog-press/assets/js/64.7180cc32.js"><link rel="prefetch" href="/blog-press/assets/js/65.009bf214.js"><link rel="prefetch" href="/blog-press/assets/js/66.a41afd3f.js"><link rel="prefetch" href="/blog-press/assets/js/67.6cb1357c.js"><link rel="prefetch" href="/blog-press/assets/js/68.9ddd8ab2.js"><link rel="prefetch" href="/blog-press/assets/js/69.e0768e8d.js"><link rel="prefetch" href="/blog-press/assets/js/7.d02898a9.js"><link rel="prefetch" href="/blog-press/assets/js/70.9d69f736.js"><link rel="prefetch" href="/blog-press/assets/js/71.188f6682.js"><link rel="prefetch" href="/blog-press/assets/js/72.5844fa81.js"><link rel="prefetch" href="/blog-press/assets/js/73.c2a47b6c.js"><link rel="prefetch" href="/blog-press/assets/js/74.c87c63e9.js"><link rel="prefetch" href="/blog-press/assets/js/75.7b2094f7.js"><link rel="prefetch" href="/blog-press/assets/js/76.f5e7d6d7.js"><link rel="prefetch" href="/blog-press/assets/js/77.09ed1df7.js"><link rel="prefetch" href="/blog-press/assets/js/78.c80e3d27.js"><link rel="prefetch" href="/blog-press/assets/js/79.039de0ce.js"><link rel="prefetch" href="/blog-press/assets/js/9.7810b5e0.js">
    <link rel="stylesheet" href="/blog-press/assets/css/0.styles.1c926e40.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog-press/" class="home-link router-link-active"><img src="/blog-press/logo.png" alt="吴泽鹏" class="logo"> <span class="site-name can-hide">吴泽鹏</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog-press/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-press/technology/html-css/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/cli-tools/" class="nav-link">
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/data-base/" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/computer-network/" class="nav-link router-link-active">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/extension/" class="nav-link">
  拓展知识
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/bug/" class="nav-link">
  踩坑日记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wzp-coding/blog-press" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/1521379825951864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog-press/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-press/technology/html-css/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/cli-tools/" class="nav-link">
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/data-base/" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/computer-network/" class="nav-link router-link-active">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/extension/" class="nav-link">
  拓展知识
</a></li><li class="dropdown-item"><!----> <a href="/blog-press/technology/bug/" class="nav-link">
  踩坑日记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wzp-coding/blog-press" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/1521379825951864" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog-press/technology/computer-network/" aria-current="page" class="sidebar-link">计算机网络发展史</a></li><li><a href="/blog-press/technology/computer-network/DNS与CDN.html" class="sidebar-link">DNS解析原理</a></li><li><a href="/blog-press/technology/computer-network/EventLoop.html" class="sidebar-link">EventLoop</a></li><li><a href="/blog-press/technology/computer-network/HTTP和HTTPS.html" class="sidebar-link">HTTP和HTTPS</a></li><li><a href="/blog-press/technology/computer-network/UDP和TCP.html" class="sidebar-link">UDP和TCP</a></li><li><a href="/blog-press/technology/computer-network/Web Workers.html" class="sidebar-link">Web Worker</a></li><li><a href="/blog-press/technology/computer-network/get和post.html" class="sidebar-link">get和post</a></li><li><a href="/blog-press/technology/computer-network/传输加密安全.html" class="sidebar-link">加密传输</a></li><li><a href="/blog-press/technology/computer-network/前端安全问题.html" class="active sidebar-link">前端安全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#xss" class="sidebar-link">XSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#xss-是什么" class="sidebar-link">XSS 是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#xss-分类" class="sidebar-link">XSS 分类</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#存储型-xss" class="sidebar-link" style="padding-left:3rem;">存储型 XSS</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#反射型-xss" class="sidebar-link" style="padding-left:3rem;">反射型 XSS</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#dom-型-xss" class="sidebar-link" style="padding-left:3rem;">DOM 型 XSS</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#预防" class="sidebar-link">预防</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#预防存储型-xss-和反射型-xss" class="sidebar-link" style="padding-left:3rem;">预防存储型 XSS 和反射型 XSS</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#预防-dom-型-xss" class="sidebar-link" style="padding-left:3rem;">预防 DOM 型 XSS</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#其他预防" class="sidebar-link" style="padding-left:3rem;">其他预防</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#content-security-policy" class="sidebar-link" style="padding-left:4rem;">Content Security Policy</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#输入内容长度控制" class="sidebar-link" style="padding-left:4rem;">输入内容长度控制</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#其他安全措施" class="sidebar-link" style="padding-left:4rem;">其他安全措施</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf" class="sidebar-link">CSRF</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-是什么" class="sidebar-link">CSRF 是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-分类" class="sidebar-link">CSRF 分类</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#get-类型的-csrf" class="sidebar-link" style="padding-left:3rem;">GET 类型的 CSRF</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#post-类型的-csrf" class="sidebar-link" style="padding-left:3rem;">POST 类型的 CSRF</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#链接类型的-csrf" class="sidebar-link" style="padding-left:3rem;">链接类型的 CSRF</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-特点" class="sidebar-link">CSRF 特点</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#防护策略" class="sidebar-link">防护策略</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#防止网站被利用" class="sidebar-link">防止网站被利用</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-其他防范措施" class="sidebar-link">CSRF 其他防范措施</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-测试" class="sidebar-link" style="padding-left:3rem;">CSRF 测试</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#csrf-监控" class="sidebar-link" style="padding-left:3rem;">CSRF 监控</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#点击劫持" class="sidebar-link">点击劫持</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#点击劫持是什么" class="sidebar-link">点击劫持是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#防御" class="sidebar-link">防御</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#frame-busting" class="sidebar-link" style="padding-left:3rem;">frame busting</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#x-frame-options" class="sidebar-link" style="padding-left:3rem;">X-Frame-Options</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#中间人攻击" class="sidebar-link">中间人攻击</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#中间人攻击是什么" class="sidebar-link">中间人攻击是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#https-为什么安全" class="sidebar-link">HTTPS 为什么安全？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#https-的传输过程是怎样的" class="sidebar-link">HTTPS 的传输过程是怎样的？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#为什么需要证书" class="sidebar-link">为什么需要证书？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#浏览器如何验证证书的合法性" class="sidebar-link">浏览器如何验证证书的合法性？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#既然证书是公开的-如果要发起中间人攻击-我在官网上下载一份证书作为我的服务器证书-那客户端肯定会认同这个证书是合法的-如何避免这种证书冒用的情况" class="sidebar-link">既然证书是公开的，如果要发起中间人攻击，我在官网上下载一份证书作为我的服务器证书，那客户端肯定会认同这个证书是合法的，如何避免这种证书冒用的情况？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#使用-https-会被抓包吗" class="sidebar-link">使用 HTTPS 会被抓包吗？</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#sql-注入" class="sidebar-link">SQL 注入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#什么是-sql-注入" class="sidebar-link">什么是 SQL 注入</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#注入方式盘点" class="sidebar-link">注入方式盘点</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#字符串内联注入" class="sidebar-link" style="padding-left:3rem;">字符串内联注入</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#终止式-sql-注入" class="sidebar-link" style="padding-left:3rem;">终止式 SQL 注入</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#时间延时注入" class="sidebar-link" style="padding-left:3rem;">时间延时注入</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#os-注入" class="sidebar-link">OS 注入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#什么是-os-注入" class="sidebar-link">什么是 OS 注入</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#原理-2" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#防御-2" class="sidebar-link">防御</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#ddos" class="sidebar-link">DDOS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#ddos-是什么" class="sidebar-link">DDOS 是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#dos-是什么" class="sidebar-link">DOS 是什么？</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#ddos-攻击形式" class="sidebar-link">DDOS 攻击形式</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#反射型-ddos-攻击-github-两年前遭受过该攻击" class="sidebar-link">反射型 DDOS 攻击（GitHub 两年前遭受过该攻击）</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#ddos-攻击类型" class="sidebar-link">DDOS 攻击类型</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#防范措施-没法做到彻底防范" class="sidebar-link">防范措施（没法做到彻底防范）</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#direct-flood-attack-udp-flood-and-ping-flood-udp-洪水和-ping-洪水" class="sidebar-link" style="padding-left:3rem;">Direct flood attack (UDP flood and ping flood)(UDP 洪水和 ping 洪水)</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#reflection-attack-反射攻击" class="sidebar-link" style="padding-left:3rem;">Reflection attack(反射攻击)</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#smurf-and-fraggle-attack-利用路由器广播地址" class="sidebar-link" style="padding-left:3rem;">Smurf and Fraggle attack(利用路由器广播地址)</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#tcp-syn-flood-attack" class="sidebar-link" style="padding-left:3rem;">(TCP) SYN Flood Attack</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#http-flood-使用-web-spider-抓取网站-以耗尽服务器资源" class="sidebar-link" style="padding-left:3rem;">HTTP Flood (使用 web spider 抓取网站，以耗尽服务器资源)</a></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#dns-amplification-attacks-dns-放大攻击" class="sidebar-link" style="padding-left:3rem;">DNS amplification attacks(DNS 放大攻击)</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog-press/technology/computer-network/前端安全问题.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/blog-press/technology/computer-network/图解HTTP状态码.html" class="sidebar-link">HTTP状态码</a></li><li><a href="/blog-press/technology/computer-network/浏览器渲染原理.html" class="sidebar-link">渲染原理</a></li><li><a href="/blog-press/technology/computer-network/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/blog-press/technology/computer-network/浏览器输入URL后发生什么事.html" class="sidebar-link">url输入后发生什么</a></li><li><a href="/blog-press/technology/computer-network/进程和线程.html" class="sidebar-link">进程和线程</a></li><li><a href="/blog-press/technology/computer-network/面试考查.html" class="sidebar-link">知识点</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="了解一下前端经典安全问题"><a href="#了解一下前端经典安全问题" class="header-anchor">#</a> 了解一下前端经典安全问题</h1> <p></p><div class="table-of-contents"><ul><li><a href="#xss">XSS</a><ul><li><a href="#xss-是什么">XSS 是什么？</a></li><li><a href="#xss-分类">XSS 分类</a><ul><li><a href="#存储型-xss">存储型 XSS</a></li><li><a href="#反射型-xss">反射型 XSS</a></li><li><a href="#dom-型-xss">DOM 型 XSS</a></li></ul></li><li><a href="#预防">预防</a><ul><li><a href="#预防存储型-xss-和反射型-xss">预防存储型 XSS 和反射型 XSS</a></li><li><a href="#预防-dom-型-xss">预防 DOM 型 XSS</a></li><li><a href="#其他预防">其他预防</a><ul><li><a href="#content-security-policy">Content Security Policy</a></li><li><a href="#输入内容长度控制">输入内容长度控制</a></li><li><a href="#其他安全措施">其他安全措施</a></li></ul></li></ul></li></ul></li><li><a href="#csrf">CSRF</a><ul><li><a href="#csrf-是什么">CSRF 是什么？</a></li><li><a href="#csrf-分类">CSRF 分类</a><ul><li><a href="#get-类型的-csrf">GET 类型的 CSRF</a></li><li><a href="#post-类型的-csrf">POST 类型的 CSRF</a></li><li><a href="#链接类型的-csrf">链接类型的 CSRF</a></li></ul></li><li><a href="#csrf-特点">CSRF 特点</a></li><li><a href="#防护策略">防护策略</a></li><li><a href="#防止网站被利用">防止网站被利用</a></li><li><a href="#csrf-其他防范措施">CSRF 其他防范措施</a><ul><li><a href="#csrf-测试">CSRF 测试</a></li><li><a href="#csrf-监控">CSRF 监控</a></li></ul></li></ul></li><li><a href="#点击劫持">点击劫持</a><ul><li><a href="#点击劫持是什么">点击劫持是什么？</a></li><li><a href="#防御">防御</a><ul><li><a href="#frame-busting">frame busting</a></li><li><a href="#x-frame-options">X-Frame-Options</a></li></ul></li></ul></li><li><a href="#中间人攻击">中间人攻击</a><ul><li><a href="#中间人攻击是什么">中间人攻击是什么？</a></li><li><a href="#https-为什么安全">HTTPS 为什么安全？</a></li><li><a href="#https-的传输过程是怎样的">HTTPS 的传输过程是怎样的？</a></li><li><a href="#为什么需要证书">为什么需要证书？</a></li><li><a href="#浏览器如何验证证书的合法性">浏览器如何验证证书的合法性？</a></li><li><a href="#既然证书是公开的-如果要发起中间人攻击-我在官网上下载一份证书作为我的服务器证书-那客户端肯定会认同这个证书是合法的-如何避免这种证书冒用的情况">既然证书是公开的，如果要发起中间人攻击，我在官网上下载一份证书作为我的服务器证书，那客户端肯定会认同这个证书是合法的，如何避免这种证书冒用的情况？</a></li><li><a href="#使用-https-会被抓包吗">使用 HTTPS 会被抓包吗？</a></li></ul></li><li><a href="#sql-注入">SQL 注入</a><ul><li><a href="#什么是-sql-注入">什么是 SQL 注入</a></li><li><a href="#原理">原理</a></li><li><a href="#注入方式盘点">注入方式盘点</a><ul><li><a href="#字符串内联注入">字符串内联注入</a></li><li><a href="#终止式-sql-注入">终止式 SQL 注入</a></li><li><a href="#时间延时注入">时间延时注入</a></li></ul></li></ul></li><li><a href="#os-注入">OS 注入</a><ul><li><a href="#什么是-os-注入">什么是 OS 注入</a></li><li><a href="#原理">原理</a></li><li><a href="#防御">防御</a></li></ul></li><li><a href="#ddos">DDOS</a><ul><li><a href="#ddos-是什么">DDOS 是什么？</a></li><li><a href="#dos-是什么">DOS 是什么？</a></li><li><a href="#ddos-攻击形式">DDOS 攻击形式</a></li><li><a href="#反射型-ddos-攻击-github-两年前遭受过该攻击">反射型 DDOS 攻击（GitHub 两年前遭受过该攻击）</a></li><li><a href="#ddos-攻击类型">DDOS 攻击类型</a></li><li><a href="#防范措施-没法做到彻底防范">防范措施（没法做到彻底防范）</a><ul><li><a href="#direct-flood-attack-udp-flood-and-ping-flood-udp-洪水和-ping-洪水">Direct flood attack (UDP flood and ping flood)(UDP 洪水和 ping 洪水)</a></li><li><a href="#reflection-attack-反射攻击">Reflection attack(反射攻击)</a></li><li><a href="#smurf-and-fraggle-attack-利用路由器广播地址">Smurf and Fraggle attack(利用路由器广播地址)</a></li><li><a href="#tcp-syn-flood-attack">(TCP) SYN Flood Attack</a></li><li><a href="#http-flood-使用-web-spider-抓取网站-以耗尽服务器资源">HTTP Flood (使用 web spider 抓取网站，以耗尽服务器资源)</a></li><li><a href="#dns-amplification-attacks-dns-放大攻击">DNS amplification attacks(DNS 放大攻击)</a></li></ul></li></ul></li><li><a href="#参考">参考</a></li></ul></div><p></p> <h2 id="xss"><a href="#xss" class="header-anchor">#</a> XSS</h2> <h3 id="xss-是什么"><a href="#xss-是什么" class="header-anchor">#</a> XSS 是什么？</h3> <p>Cross-Site Scripting（跨站脚本攻击）简称 XSS，是一种代码注入攻击。攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些恶意脚本，攻击者可获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。</p> <p>为了和 CSS 区分，这里把攻击的第一个字母改成了 X，于是叫做 XSS。</p> <p>XSS 的本质是：恶意代码未经过滤，与网站正常的代码混在一起；浏览器无法分辨哪些脚本是可信的，导致恶意脚本被执行。</p> <p>而由于直接在用户的终端执行，恶意代码能够直接获取用户的信息，或者利用这些信息冒充用户向网站发起攻击者定义的请求。</p> <p>在部分情况下，由于输入的限制，注入的恶意脚本比较短。但可以通过引入外部的脚本，并由浏览器执行，来完成比较复杂的攻击策略。</p> <p>这里有一个问题：用户是通过哪种方法“注入”恶意脚本的呢？</p> <p>不仅仅是业务上的“用户的 UGC 内容”可以进行注入，包括 URL 上的参数等都可以是攻击的来源。在处理输入时，以下内容都不可信：</p> <ul><li>来自用户的 UGC（User Generated Content） 信息，也就是用户生成内容，即用户原创内容</li> <li>来自第三方的链接</li> <li>URL 参数</li> <li>POST 参数</li> <li>Referer （可能来自不可信的来源）</li> <li>Cookie （可能来自其他子域注入）</li></ul> <h3 id="xss-分类"><a href="#xss-分类" class="header-anchor">#</a> XSS 分类</h3> <h4 id="存储型-xss"><a href="#存储型-xss" class="header-anchor">#</a> 存储型 XSS</h4> <p>攻击步骤：</p> <ol><li>攻击者将恶意代码提交到目标网站的数据库中</li> <li>用户打开目标网站时，网站服务端将恶意代码从数据库取出，拼接在 HTML 中返回给浏览器</li> <li>用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行</li> <li>恶意代码窃取用户数据并发送到攻击者网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作</li></ol> <p>这种攻击常见于带有用户保存数据的网站功能，如论坛发帖，商品评论，用户私信等</p> <h4 id="反射型-xss"><a href="#反射型-xss" class="header-anchor">#</a> 反射型 XSS</h4> <p>攻击步骤：</p> <ol><li>攻击这构造出特殊的 URL，其中包含恶意代码</li> <li>用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器</li> <li>用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行</li> <li>恶意代码窃取用户数据并发送到攻击者网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作</li></ol> <p>反射型 XSS 跟存储型 XSS 的区别是：存储型 XSS 的恶意代码存在数据库里，反射型 XSS 的恶意代码存在 URL 里</p> <p>反射型 XSS 漏洞常见于通过 URL 传递参数的功能，如网站搜索，跳转等</p> <p>由于需要用户主动打开恶意的 URL 才能生效，攻击者往往会结合多种手段诱导用户点击</p> <p>POST 的内容也可以触发反射型 XSS，只不过其触发条件比较苛刻（需要构造表单提交页面，并引导用户点击），所以非常少见</p> <h4 id="dom-型-xss"><a href="#dom-型-xss" class="header-anchor">#</a> DOM 型 XSS</h4> <p>攻击步骤：</p> <ol><li>攻击者构造出特殊的 URL，其中包含恶意代码</li> <li>用户打开带有恶意代码的 URL</li> <li>用户浏览器接收到响应后解析执行，前端 JavaScript 取出 URL 中的恶意代码并执行</li> <li>恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户行为，调用目标网站接口执行攻击者指定的操作</li></ol> <p>DOM 型 XSS 跟前两种 XSS 的区别：DOM 型 XSS 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的漏洞</p> <h3 id="预防"><a href="#预防" class="header-anchor">#</a> 预防</h3> <h4 id="预防存储型-xss-和反射型-xss"><a href="#预防存储型-xss-和反射型-xss" class="header-anchor">#</a> 预防存储型 XSS 和反射型 XSS</h4> <p>存储型 XSS 和反射型 XSS 都是从服务端取出恶意代码，插入到响应 HTML 里的，攻击者刻意编写的“数据”被内嵌到代码中，被浏览器所执行</p> <p>预防这两种漏洞，有两种常见的方法：</p> <ol><li>改成纯前端渲染，把代码和数据分隔开</li> <li>对 HTML 做充分转义</li></ol> <h4 id="预防-dom-型-xss"><a href="#预防-dom-型-xss" class="header-anchor">#</a> 预防 DOM 型 XSS</h4> <p>DOM 型 XSS 攻击，实际上就是网站前端 JavaScript 代码本身不够严谨，把不可信的数据当作代码执行了</p> <p>在使用 <code>.innerHTML</code>、<code>.outerHTML</code>、<code>document.write()</code> 时要特别小心，不要把不可信的数据作为 HTML 插到页面上，而应尽量使用 <code>.textContent</code>、<code>.setAttribute()</code> 等。</p> <p>如果用 Vue/React 技术栈，并且不使用 <code>v-html</code>/<code>dangerouslySetInnerHTML</code> 功能，就在前端 render 阶段避免 <code>innerHTML</code>、<code>outerHTML</code> 的 XSS 隐患。</p> <p>DOM 中的内联事件监听器，如 <code>location</code>、<code>onclick</code>、<code>onerror</code>、<code>onload</code>、<code>onmouseover</code> 等，<code>&lt;a&gt;</code> 标签的 <code>href</code> 属性，JavaScript 的 <code>eval()</code>、<code>setTimeout()</code>、<code>setInterval()</code> 等，都能把字符串作为代码运行。如果不可信的数据拼接到字符串中传递给这些 API，很容易产生安全隐患，请务必避免。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 内联事件监听器中包含恶意代码 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img onclick<span class="token operator">=</span><span class="token string">&quot;UNTRUSTED&quot;</span> onerror<span class="token operator">=</span><span class="token string">&quot;UNTRUSTED&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;data:image/png,&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 链接内包含恶意代码 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;UNTRUSTED&quot;</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// setTimeout()/setInterval() 中调用恶意代码</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">&quot;UNTRUSTED&quot;</span><span class="token punctuation">)</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token string">&quot;UNTRUSTED&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// location 调用恶意代码</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'UNTRUSTED'</span>

<span class="token comment">// eval() 中调用恶意代码</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;UNTRUSTED&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="其他预防"><a href="#其他预防" class="header-anchor">#</a> 其他预防</h4> <h5 id="content-security-policy"><a href="#content-security-policy" class="header-anchor">#</a> Content Security Policy</h5> <p>严格的 CSP 在 XSS 的防范中可以起到以下的作用：</p> <ul><li>禁止加载外域代码，防止复杂的攻击逻辑。</li> <li>禁止外域提交，网站被攻击后，用户的数据不会泄露到外域。</li> <li>禁止内联脚本执行（规则较严格，目前发现 GitHub 使用）。</li> <li>禁止未授权的脚本执行（新特性，Google Map 移动版在使用）。</li> <li>合理使用上报可以及时发现 XSS，利于尽快修复问题。</li></ul> <p>关于 CSP 的详情，请关注前端安全系列后续的文章。</p> <h5 id="输入内容长度控制"><a href="#输入内容长度控制" class="header-anchor">#</a> 输入内容长度控制</h5> <p>对于不受信任的输入，都应该限定一个合理的长度。虽然无法完全防止 XSS 发生，但可以增加 XSS 攻击的难度。</p> <h5 id="其他安全措施"><a href="#其他安全措施" class="header-anchor">#</a> 其他安全措施</h5> <ul><li>HTTP-only Cookie: 禁止 JavaScript 读取某些敏感 Cookie，攻击者完成 XSS 注入后也无法窃取此 Cookie。</li> <li>验证码：防止脚本冒充用户提交危险操作。</li></ul> <h2 id="csrf"><a href="#csrf" class="header-anchor">#</a> CSRF</h2> <h3 id="csrf-是什么"><a href="#csrf-是什么" class="header-anchor">#</a> CSRF 是什么？</h3> <p>CSRF（Cross-site request forgery）跨站请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。</p> <p>一个典型的 CSRF 攻击有着如下的流程：</p> <ul><li>用户登录<a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，并保留了登录凭证（Cookie）。</li> <li>攻击者引诱用户访问了<a href="http://b.com" target="_blank" rel="noopener noreferrer">b.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li><a href="http://b.com" target="_blank" rel="noopener noreferrer">b.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 向 <a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 发送了一个请求：http://a.com/act=xx。浏览器会默认携带 <a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的 Cookie。</li> <li><a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>接收到请求后，对请求进行验证，并确认是用户的凭证，误以为是用户自己发送的请求。</li> <li><a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>以用户的名义执行了 act=xx。</li> <li>攻击完成，攻击者在用户不知情的情况下，冒充用户，让 <a href="http://a.com" target="_blank" rel="noopener noreferrer">a.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>执行了攻击者定义的操作。</li></ul> <h3 id="csrf-分类"><a href="#csrf-分类" class="header-anchor">#</a> CSRF 分类</h3> <h4 id="get-类型的-csrf"><a href="#get-类型的-csrf" class="header-anchor">#</a> GET 类型的 CSRF</h4> <p>GET 类型的 CSRF 的利用非常简单，只需要一个 HTTP 请求，一般会这样用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;http://bank.example/withdraw?amount=10000&amp;for=hacker&quot;</span> <span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在用户访问含有这个 img 的页面后，浏览器会自动向<code>http://bank.example/withdraw?amount=10000&amp;for=hacker</code>发出一次 HTTP 请求，<code>back.example</code>就会收到包含用户登录信息的一次跨域请求</p> <h4 id="post-类型的-csrf"><a href="#post-类型的-csrf" class="header-anchor">#</a> POST 类型的 CSRF</h4> <p>这种类型的 CSRF 利用起来通常使用的是一个自动提交的表单，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;http://bank.example/withdraw&quot;</span> method<span class="token operator">=</span><span class="token constant">POST</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;account&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;xiaoming&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;amount&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;10000&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;for&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;hacker&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span> document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>访问该页面后，表单会自动提交，相当于模拟用户完成了一次 POST 操作。</p> <p>POST 类型的攻击通常比 GET 要求更加严格一点，但仍并不复杂。任何个人网站、博客，被黑客上传页面的网站都有可能是发起攻击的来源，后端接口不能将安全寄托在仅允许 POST 上面。</p> <h4 id="链接类型的-csrf"><a href="#链接类型的-csrf" class="header-anchor">#</a> 链接类型的 CSRF</h4> <p>链接类型的 CSRF 并不常见，比起其他两种用户打开页面就中招的情况，这种需要用户点击链接才会触发。这种类型通常是在论坛中发布的图片中嵌入恶意链接，或者以广告的形式诱导用户中招，攻击者通常会以比较夸张的词语诱骗用户点击，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;http://test.com/csrf/withdraw.php?amount=1000&amp;for=hacker&quot;</span> taget<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span><span class="token operator">&gt;</span>
  重磅消息！！
  <span class="token operator">&lt;</span>a<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>由于之前用户登录了信任的网站 A，并且保存登录状态，只要用户主动访问上面的这个 PHP 页面，则表示攻击成功。</p> <h3 id="csrf-特点"><a href="#csrf-特点" class="header-anchor">#</a> CSRF 特点</h3> <ul><li>攻击一般发起在第三方网站，而不是被攻击的网站，被攻击的网站无法防止攻击发生</li> <li>攻击利用用户在被攻击网站的登录凭证，冒充受害者提交操作，而不是直接窃取数据</li> <li>整个过程攻击者并不能获取到用户的登录凭证，仅仅是冒用</li> <li>跨站请求可以用各种方式：图片 URL、超链接、CORS、Form 提交等等。部分请求可以直接嵌入第三方论坛，文章中，难以进行追踪</li></ul> <p>CSRF 通常是跨域的，因为外域通常更容易被攻击者掌控。但是如果本域下有容易被利用的功能，比如可以发图和链接的论坛和评论区，攻击可以直接在本域下进行，而且这种攻击更加危险</p> <h3 id="防护策略"><a href="#防护策略" class="header-anchor">#</a> 防护策略</h3> <p>CSRF 通常从第三方网站发起，被攻击的网站无法防止攻击发生，只能通过增强自己网站针对 CSRF 的防护能力来提升安全性。</p> <p>上文中讲了 CSRF 的两个特点：</p> <ul><li>CSRF（通常）发生在第三方域名。</li> <li>CSRF 攻击者不能获取到 Cookie 等信息，只是使用。</li></ul> <p>针对这两点，我们可以专门制定防护策略，如下：</p> <ul><li>阻止不明外域的访问
<ul><li>同源检测</li> <li>Samesite Cookie</li></ul></li> <li>提交时要求附加本域才能获取的信息
<ul><li>CSRF Token</li> <li>双重 Cookie 验证</li></ul></li></ul> <h3 id="防止网站被利用"><a href="#防止网站被利用" class="header-anchor">#</a> 防止网站被利用</h3> <p>前面所说的，都是被攻击的网站如何做好防护。而非防止攻击的发生，CSRF 的攻击可以来自：</p> <ul><li>攻击者自己的网站。</li> <li>有文件上传漏洞的网站。</li> <li>第三方论坛等用户内容。</li> <li>被攻击网站自己的评论功能等。</li></ul> <p>对于来自黑客自己的网站，我们无法防护。但对其他情况，那么如何防止自己的网站被利用成为攻击的源头呢？</p> <ul><li>严格管理所有的上传接口，防止任何预期之外的上传内容（例如 HTML）。</li> <li>添加 Header <code>X-Content-Type-Options: nosniff</code> 防止黑客上传 HTML 内容的资源（例如图片）被解析为网页。</li> <li>对于用户上传的图片，进行转存或者校验。不要直接使用用户填写的图片链接。</li> <li>当前用户打开其他用户填写的链接时，需告知风险（这也是很多论坛不允许直接在内容中发布外域链接的原因之一，不仅仅是为了用户留存，也有安全考虑）。</li></ul> <h3 id="csrf-其他防范措施"><a href="#csrf-其他防范措施" class="header-anchor">#</a> CSRF 其他防范措施</h3> <h4 id="csrf-测试"><a href="#csrf-测试" class="header-anchor">#</a> CSRF 测试</h4> <p>CSRFTester 是一款 CSRF 漏洞的测试工具，CSRFTester 工具的测试原理大概是这样的，使用代理抓取我们在浏览器中访问过的所有的连接以及所有的表单等信息，通过在 CSRFTester 中修改相应的表单等信息，重新提交，相当于一次伪造客户端请求，如果修改后的测试请求成功被网站服务器接受，则说明存在 CSRF 漏洞，当然此款工具也可以被用来进行 CSRF 攻击</p> <h4 id="csrf-监控"><a href="#csrf-监控" class="header-anchor">#</a> CSRF 监控</h4> <p>对于一个比较复杂的网站系统，某些项目、页面、接口漏掉了 CSRF 防护措施是很可能的。</p> <p>一旦发生了 CSRF 攻击，我们如何及时的发现这些攻击呢？</p> <p>CSRF 攻击有着比较明显的特征：</p> <ul><li>跨域请求。</li> <li>GET 类型请求 Header 的 MIME 类型大概率为图片，而实际返回 Header 的 MIME 类型为 Text、JSON、HTML。</li></ul> <p>我们可以在网站的代理层监控所有的接口请求，如果请求符合上面的特征，就可以认为请求有 CSRF 攻击嫌疑。我们可以提醒对应的页面和项目负责人，检查或者 Review 其 CSRF 防护策略</p> <h2 id="点击劫持"><a href="#点击劫持" class="header-anchor">#</a> 点击劫持</h2> <h3 id="点击劫持是什么"><a href="#点击劫持是什么" class="header-anchor">#</a> 点击劫持是什么？</h3> <p>点击劫持是指在一个 Web 页面中隐藏了一个透明的 iframe，用外层假页面诱导用户点击，实际上是在隐藏的 frame 上触发了点击事件进行一些用户不知情的操作。</p> <p>典型点击劫持攻击流程:</p> <ol><li>攻击者构建了一个非常有吸引力的网页</li> <li>将被攻击的页面放置在当前页面的 <code>iframe</code> 中</li> <li>使用样式将 <code>iframe</code> 叠加到非常有吸引力内容的上方</li> <li>将<code>iframe</code>设置为 100%透明</li> <li>用户被诱导点击了网页内容，用户成功被攻击了</li></ol> <h3 id="防御"><a href="#防御" class="header-anchor">#</a> 防御</h3> <h4 id="frame-busting"><a href="#frame-busting" class="header-anchor">#</a> frame busting</h4> <p>Frame busting</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>top<span class="token punctuation">.</span>location <span class="token operator">!=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  top<span class="token punctuation">.</span>location <span class="token operator">=</span> window<span class="token punctuation">.</span>location
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>需要注意的是: HTML5 中 iframe 的 <code>sandbox</code> 属性、IE 中 iframe 的<code>security</code> 属性等，都可以限制 iframe 页面中的 JavaScript 脚本执行，从而可以使得 frame busting 失效。</p> <h4 id="x-frame-options"><a href="#x-frame-options" class="header-anchor">#</a> X-Frame-Options</h4> <p>X-FRAME-OPTIONS 是微软提出的一个 http 头，专门用来防御利用 iframe 嵌套的点击劫持攻击。并且在 IE8、Firefox3.6、Chrome4 以上的版本均能很好的支持。</p> <p>可以设置为以下值:</p> <ul><li>DENY: 拒绝任何域加载</li> <li>SAMEORIGIN: 允许同源域下加载</li> <li>ALLOW-FROM: 可以定义允许 frame 加载的页面地址</li></ul> <h2 id="中间人攻击"><a href="#中间人攻击" class="header-anchor">#</a> 中间人攻击</h2> <h3 id="中间人攻击是什么"><a href="#中间人攻击是什么" class="header-anchor">#</a> 中间人攻击是什么？</h3> <p>中间人攻击是指，浏览器第一次请求就被攻击者拦截下来并做了修改，不给浏览器和服务器进行 HTTPS 通信的机会</p> <p>攻击流程：</p> <ol><li>本地请求被劫持（如 DNS 劫持等），所有请求都发送到中间人的服务器</li> <li>中间人服务器返回中间人自己的证书</li> <li>客户端创建随机数，通过中间人证书的公钥对随机数加密后传送给中间人，然后凭随机数构造对称加密对传输内容进行加密传输</li> <li>中间人因为有客户端的随机数，可以通过对称加密算法进行内容解密</li> <li>中间人以客户端的请求内容再向正规网站发起请求</li> <li>因为中间人与服务器的通信过程是合法的，正规网站通过建立的安全通道返回加密后的数据</li> <li>中间人凭借与正规网站建立的对称加密算法对内容进行解密</li> <li>中间人通过与服务端建立的对称加密算法对正规网站返回的数据进行加密传输</li> <li>客户端通过与中间人建立的对称加密算法返回结果数据进行解密</li></ol> <img src="https://blog-images-1302031947.cos.ap-guangzhou.myqcloud.com/images/image-20211106151947044-16361834430651.png" alt="img" style="zoom:67%;"> <p>由于缺少对证书的验证，所以客户端虽然发起的是 HTTPS 请求，但是客户端完全不知道自己的网络已被拦截，传输内容被中间人全部窃取</p> <h3 id="https-为什么安全"><a href="#https-为什么安全" class="header-anchor">#</a> HTTPS 为什么安全？</h3> <p>因为 HTTPS 保证了传输安全，防止传输过程被监听、防止数据被窃取，可以确认网站的真实性。</p> <h3 id="https-的传输过程是怎样的"><a href="#https-的传输过程是怎样的" class="header-anchor">#</a> HTTPS 的传输过程是怎样的？</h3> <p>客户端发起 HTTPS 请求，服务端返回证书，客户端对证书进行验证，验证通过后本地生成用于改造对称加密算法的随机数，通过证书中的公钥对随机数进行加密传输到服务端，服务端接收后通过私钥解密得到随机数，之后的数据交互通过对称加密算法进行加解密。</p> <h3 id="为什么需要证书"><a href="#为什么需要证书" class="header-anchor">#</a> 为什么需要证书？</h3> <p>防止中间人攻击，同时可以为网站提供身份证明。</p> <h3 id="浏览器如何验证证书的合法性"><a href="#浏览器如何验证证书的合法性" class="header-anchor">#</a> 浏览器如何验证证书的合法性？</h3> <p>浏览器发起 HTTPS 请求时，服务器会返回网站的 SSL 证书，浏览器需要对证书做以下验证：</p> <ol><li>验证域名、有效期等信息是否正确。证书上都有包含这些信息，比较容易完成验证；</li> <li>判断证书来源是否合法。每份签发证书都可以根据验证链查找到对应的根证书，操作系统、浏览器会在本地存储权威机构的根证书，利用本地根证书可以对对应机构签发证书完成来源验证； <img src="https://blog-images-1302031947.cos.ap-guangzhou.myqcloud.com/images/image-20211106152911067.png" alt="image-20211106152911067"></li> <li>判断证书是否被篡改。需要与 CA 服务器进行校验；</li> <li>判断证书是否已吊销。通过 CRL（Certificate Revocation List 证书注销列表）和 OCSP（Online Certificate Status Protocol 在线证书状态协议）实现，其中 OCSP 可用于第 3 步中以减少与 CA 服务器的交互，提高验证效率</li></ol> <p>以上任意一步都满足的情况下浏览器才认为证书是合法的。</p> <h3 id="既然证书是公开的-如果要发起中间人攻击-我在官网上下载一份证书作为我的服务器证书-那客户端肯定会认同这个证书是合法的-如何避免这种证书冒用的情况"><a href="#既然证书是公开的-如果要发起中间人攻击-我在官网上下载一份证书作为我的服务器证书-那客户端肯定会认同这个证书是合法的-如何避免这种证书冒用的情况" class="header-anchor">#</a> 既然证书是公开的，如果要发起中间人攻击，我在官网上下载一份证书作为我的服务器证书，那客户端肯定会认同这个证书是合法的，如何避免这种证书冒用的情况？</h3> <p>其实这就是非加密对称中公私钥的用处，虽然中间人可以得到证书(<strong>包含服务端的公钥、身份信息及其它相关信息</strong>)，但**(服务端)**私钥是无法获取的，一份公钥是不可能推算出其对应的私钥，所以中间人拿到证书，即便能拿到客户端传过来的数据(<strong>使用服务端公钥加密过的数据</strong>)，也无法伪装成合法服务端，因为无法对客户端传入的加密数据进行解密。</p> <h3 id="使用-https-会被抓包吗"><a href="#使用-https-会被抓包吗" class="header-anchor">#</a> 使用 HTTPS 会被抓包吗？</h3> <p>会被抓包，HTTPS 只防止用户在不知情的情况下通信被监听，如果用户主动授信，是可以构建中间人网络，代理软件可以对传输内容进行解密。</p> <h2 id="sql-注入"><a href="#sql-注入" class="header-anchor">#</a> SQL 注入</h2> <h3 id="什么是-sql-注入"><a href="#什么是-sql-注入" class="header-anchor">#</a> 什么是 SQL 注入</h3> <p>SQL(Structured Query Language) 注入是一种极具破坏力的漏洞, 自从 SQL 数据库开始连接 WEB 应用的时候, SQL 注入就开始存在了, 首次发现 SQL 注入的是 Rain Forest Puppy 并引入了公众视野。</p> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p>在应用程序向后端传递 SQL 数据查询时, 如果为攻击者提供了影响该查询的能力, 就会引发 SQL 注入, 此时攻击者通过影响传递给数据库的内容来修改 SQL 自身的语法和功能, 并且影响 SQL 所支持数据库和操作系统的功能和灵活性, 对于任何不可信源获取输入代码的方式来构造动态 SQL 语句, 都很有可能收到 SQL 的注入攻击。 注入可纳取的方式：</p> <ul><li>动态构建查询 SQL 语句
<ul><li>转义字符处理不恰当：如 Oracle 中空格/双竖线/逗号等</li> <li>类型处理不恰当：传递注入文件路径或者写入 Webshell</li> <li>查询语句组装不恰当：多次组装查询语句已失去原有查询数据库的功能</li> <li>错误处理不恰当：详细的错误信息传递给请求客户端</li> <li>多个提交处理不恰当</li></ul></li> <li>不恰当的数据配置</li></ul> <p>在预防你的数据免受注入的威胁的时候, 对输入数据进行预判和过滤将很有用, 将数据配置中权限分离, 并且将原有配置的用户进行相关配置或者密码重设, 会得到更好的预防, 在用户配置中, 很多应用系统采用的是一个用户就已经拥有 <strong>SELECT</strong> | <strong>UPDATE</strong> | <strong>INSERT</strong> | <strong>DELETE</strong> | <strong>EXECUTE</strong> 的权限, 这将很危险。</p> <h3 id="注入方式盘点"><a href="#注入方式盘点" class="header-anchor">#</a> 注入方式盘点</h3> <h4 id="字符串内联注入"><a href="#字符串内联注入" class="header-anchor">#</a> 字符串内联注入</h4> <p>在我们对一个 SQL 的 API 进行注入<code>'</code>的时候如果返回的信息状态是错误信息, 那么这个 API 极度容易遭受注入的风险，如用户登陆的界面若是以下 SQL 检索语句：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'{UserName}'</span> <span class="token operator">AND</span> password <span class="token operator">=</span> <span class="token string">'{PassWord}'</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此时注入<code>'</code>的时候查询语句将会是错误语法, 并不能给服务器识别</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">''' AND password = '</span>' <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>既然<code>'</code>没有被转义, 那么可以将这样的语句进行注入到上面的 SQL 查询中：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">OR</span> <span class="token string">'1'</span> <span class="token operator">=</span> <span class="token string">'1'</span>  <span class="token operator">AND</span> password <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">OR</span> <span class="token string">'1'</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而对你来说你的输入仅仅是对 Username 输入了<code>' OR '1' = '1</code>, 相同的 Password 输入了<code>' OR '1' = '1</code>来满足这条查询语句, 在很多的查询语句中可以用这个方式进行注入, 而达到获取全部数据的目的。</p> <table><thead><tr><th>测试字符串</th> <th>变种 SQL 语句</th> <th>预期结果</th></tr></thead> <tbody><tr><td>'</td> <td></td> <td>错误语法, 返回错误信息</td></tr> <tr><td>1' or '1' = '1</td> <td>1') or ('1' = '1</td> <td>恒等于真, 返回所有数据</td></tr> <tr><td>value' or '1' = '2</td> <td>value') or ('1' = '</td> <td>空条件, 返回原值相同的数据</td></tr> <tr><td>1' or 'ab' = 'a' + 'b</td> <td>1') or ('ab' = 'a' + 'b</td> <td>SQL Server 字符拼接, 返回所有数据</td></tr> <tr><td>1' or 'ab' = 'a' 'b</td> <td>1') or ('ab' = 'a' 'b</td> <td>MySQL 字符拼接, 返回所有数据</td></tr> <tr><td>1' or 'ab' = 'a' || 'b</td> <td>1') or ('ab' = 'a' || 'b</td> <td>Oracle 字符拼接, 返回所有数据</td></tr></tbody></table> <p>很多时候我们检索一条数据的详情的时候会用到唯一标识 ID, 当然有的可能用的是 UUID, 这种 UUID 可以忽略这种方式的注入, UUID 在数据库是以字符串的形式存储着, 在对于数字 ID 的类型检索内容详情的时候用到的 SQL 查询例如以下：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> id <span class="token operator">=</span> {ID} <span class="token punctuation">;</span>
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在你输入已有 ID 的时候将会返回已有 ID 下的数据详情, 对于很多详情数据将会很有用, 那根据我们已有的<a href="#4001"> 字符串内联注入 </a>的方式, 我们将采取以下的方式进行注入测试：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">or</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span>
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在你对 SQL 的 API 输入<code>1 or 1 = 1</code>就可以达到获取所有数据详情的目的, 在注入中, 我们最简单的注入方式都是以恒等于真的条件进行注入的方式最为常见和切最为简单。</p> <table><thead><tr><th>测试字符串</th> <th>变种 SQL 语句</th> <th>预期结果</th></tr></thead> <tbody><tr><td>'</td> <td></td> <td>错误语法, 返回错误信息</td></tr> <tr><td>1 + 1</td> <td>3 - 1</td> <td>返回操作结果相同的数据</td></tr> <tr><td>value + 0</td> <td></td> <td>返回与原先结果相同的数据</td></tr> <tr><td>1 or 1 = 1</td> <td>1) or (1 = 1</td> <td>恒等于真, 返回所有数据</td></tr> <tr><td>value or 1 = 2</td> <td>value) or (1 = 2</td> <td>空条件, 返回原值相同的数据</td></tr> <tr><td>1 and 1 = 2</td> <td>1) and (1 = 2</td> <td>恒等于假, 返回空数据</td></tr> <tr><td>1 or 'ab' = 'a' + 'b'</td> <td>1) or ('ab' = 'a' + 'b'</td> <td>SQL Server 字符拼接, 返回所有数据</td></tr> <tr><td>1 or 'ab' = 'a' 'b'</td> <td>1) or ('ab' = 'a' 'b'</td> <td>MySQL 字符拼接, 返回所有数据</td></tr> <tr><td>1 or 'ab' = 'a' || 'b'</td> <td>1) or ('ab' = 'a' || 'b'</td> <td>Oracle 字符拼接, 返回所有数据</td></tr></tbody></table> <h4 id="终止式-sql-注入"><a href="#终止式-sql-注入" class="header-anchor">#</a> 终止式 SQL 注入</h4> <p>在对 SQL 注入的时候, 我们可以尝试通过注释语法进行 SQL 注入：</p> <table><thead><tr><th>数据库类型</th> <th>注释语法</th> <th>描述</th></tr></thead> <tbody><tr><td>SQL Server Oracle PostgreSQL</td> <td>-- (双连字符)</td> <td>用于单行注释</td></tr> <tr><td>/* */</td> <td>用于多行注释</td> <td></td></tr> <tr><td>MySQL</td> <td>-- (双连字符)</td> <td>用于单行注释 要求第二个字符跟一个空格或控制字符</td></tr> <tr><td>#</td> <td>用于单行注释</td> <td></td></tr> <tr><td>/* */</td> <td>用于多行注释</td> <td></td></tr></tbody></table> <p>如一个验证表单, 正常情况下键入一个合法的 <code>Username</code> 和 <code>Password</code> 对所登陆的用户进行验证, 若是我们采用注入代码并终止该查询语句, 就可以达到注入的目的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">'admin'</span><span class="token comment">/*' AND password='*/</span>''<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们注入的时候仅仅是对 <code>Username</code> 字段提交了 <code>admin'/*</code> 和 <code>Password</code> 字段提交了 <code>*/'</code> 就达到了注入的目的, 最后实际查询的 SQL 仅仅是：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">'admin'</span> <span class="token string">''</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当然, 你不必仅仅是局限于查询的 SQL 语句, 我们也可以自己在更新/新增/删除的操作中插入想要的注入语句, 最后达到我们想要的目的, 这总执行多个 SQL 语句的方式, 也是利用注释的语法实现的。</p> <h4 id="时间延时注入"><a href="#时间延时注入" class="header-anchor">#</a> 时间延时注入</h4> <p>在大多数的网站上并没有 SQL 执行的报错信息返回, 所以我们难以确认是否存在漏洞, 对于这种情况, 我们可以向数据库注入时间延迟, 并查看服务器的相应是否也是延时的状态, 在执行 SQL Server 的时候仅仅需要增加:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">WAITFOR</span> DELAY <span class="token string">'hours:minutes:seconds'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1314</span><span class="token punctuation">;</span> <span class="token keyword">WAITFOR</span> LEDAY <span class="token string">'0:0:5'</span><span class="token punctuation">;</span> <span class="token comment">--</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>相同的, 你在 Oracle PL/SQL 里面使用下面的语句, 也可以达到延时注入的方式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">BEGIN</span> DBMS_LOCK<span class="token punctuation">.</span>SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>虽然 <code>DBMS_LOCK.SLEEP()</code> 可以让过程休眠指定秒数, 但是这个函数不能直接注入子查询中, 并且需要数据库管理员才可以使用 <code>DBSM_LOCK</code> 包, 所以我们还有更好的办法, 如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1314</span> <span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span>DBSM_PIPE<span class="token punctuation">.</span>RECEIVE_MESSAGE<span class="token punctuation">(</span><span class="token string">'RDS'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>DBSM_PIPE.RECEIVE_MESSAGE()</code> 函数将会为从 <code>RDS</code> 管道返回的数据等待 5 秒, 默认情况下, 也允许 public 权限下执行这个包的函数。 在 PostgreSQL 8.2 版本或 8.2 版本以上的版本, 可以用 <code>PG_SLEEP()</code> 来执行你的注入：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TableName <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1314</span><span class="token punctuation">;</span> <span class="token keyword">SELECT</span> pg_sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">--</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="os-注入"><a href="#os-注入" class="header-anchor">#</a> OS 注入</h2> <h3 id="什么是-os-注入"><a href="#什么是-os-注入" class="header-anchor">#</a> 什么是 OS 注入</h3> <p>OS 命令注入和 SQL 注入差不多，只不过 SQL 注入是针对数据库的，而 OS 命令注入是针对操作系统的。OS 命令注入攻击指通过 Web 应用，执行非法的操作系统命令达到攻击的目的。只要在能调用 Shell 函数的地方就有存在被攻击的风险。倘若调用 Shell 时存在疏漏，就可以执行插入的非法命令。</p> <p>命令注入攻击可以向 Shell 发送命令，让 Windows 或 Linux 操作系统的命令行启动程序。也就是说，通过命令注入攻击可执行操作系统上安装着的各种程序</p> <h3 id="原理-2"><a href="#原理-2" class="header-anchor">#</a> 原理</h3> <p><img src="https://blog-images-1302031947.cos.ap-guangzhou.myqcloud.com/images/image-20211106153041076.png" alt="image-20211106153041076">黑客构造命令提交给 web 应用程序，web 应用程序提取黑客构造的命令，拼接到被执行的命令中，因黑客注入的命令打破了原有命令结构，导致 web 应用执行了额外的命令，最后 web 应用程序将执行的结果输出到响应页面中。</p> <p>我们通过一个例子来说明其原理，假如需要实现一个需求：用户提交一些内容到服务器，然后在服务器执行一些系统命令去返回一个结果给用户</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 以 Node.js 为例，假如在接口中需要从 github 下载用户指定的 repo</span>
<span class="token keyword">const</span> exec <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mz/child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exec
<span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 用户输入的参数 */</span>
<span class="token punctuation">}</span>
<span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">git clone </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>repo<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> /some/path</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果 <code>params.repo</code> 传入的是 <code>https://github.com/admin/admin.github.io.git</code> 确实能从指定的 git repo 上下载到想要的代码。 但是如果 <code>params.repo</code> 传入的是 <code>https://github.com/xx/xx.git &amp;&amp; rm -rf /* &amp;&amp;</code> 恰好你的服务是用 root 权限起的就糟糕了。</p> <h3 id="防御-2"><a href="#防御-2" class="header-anchor">#</a> 防御</h3> <ul><li>后端对前端提交内容进行规则限制（比如正则表达式）。</li> <li>在调用系统命令前对所有传入参数进行命令行参数转义过滤。</li> <li>不要直接拼接命令语句，借助一些工具做拼接、转义预处理，例如 Node.js 的 <code>shell-escape npm</code>包</li></ul> <h2 id="ddos"><a href="#ddos" class="header-anchor">#</a> DDOS</h2> <h3 id="ddos-是什么"><a href="#ddos-是什么" class="header-anchor">#</a> DDOS 是什么？</h3> <p>分布式拒绝服务(DDoS：Distributed Denial of Service)攻击，是指攻击者利用大量&quot;肉鸡&quot;对攻击目标发动大量的正常或非正常请求、耗尽目标主机资源或网络资源，从而使被攻击的主机不能为正常用户提供服务。</p> <h3 id="dos-是什么"><a href="#dos-是什么" class="header-anchor">#</a> DOS 是什么？</h3> <p>DoS（拒绝服务，Denial of Service）就是利用合理的服务请求来占用过多的服务资源，从而使合法用户无法得到服务的响应。这是早期非常基本的网络攻击方式。在信息安全的三要素——保密性、完整性和可用性中，DoS（Denial of Service）针对的目标正是可用性。该攻击方式利用目标系统网络服务功能缺陷或者直接消耗其系统资源，使得该目标系统无法提供正常的服务。</p> <h3 id="ddos-攻击形式"><a href="#ddos-攻击形式" class="header-anchor">#</a> DDOS 攻击形式</h3> <p>一般来说，DDoS 攻击可以具体分成两种形式：带宽消耗型以及资源消耗型。它们都是透过大量合法或伪造的请求占用大量网络以及器材资源，以达到瘫痪网络以及系统的目的。其中，DDoS 带宽消耗攻击可以分为两个不同的层次：洪泛攻击或放大攻击</p> <p>当服务器被 DDos 攻击时，一般会出现以下现象：</p> <ul><li>被攻击主机上有大量等待的 TCP 连接；</li> <li>网络中充斥着大量的无用的数据包；</li> <li>受害主机无法正常和外界通讯；</li> <li>受害主机无法处理所有正常请求；</li> <li>严重时会造成系统死机。</li></ul> <p><strong>对于用户来说，在常见的现象就是网站无法访问。</strong></p> <p><img src="https://blog-images-1302031947.cos.ap-guangzhou.myqcloud.com/images/image-20211106153158496.png" alt="image-20211106153158496"></p> <h3 id="反射型-ddos-攻击-github-两年前遭受过该攻击"><a href="#反射型-ddos-攻击-github-两年前遭受过该攻击" class="header-anchor">#</a> 反射型 DDOS 攻击（GitHub 两年前遭受过该攻击）</h3> <p>**本次是 GitHub 遭受攻击的手段是 DDos 攻击手段中的反射型 DDoS 攻击。反射型 DDos 攻击也被称为放大攻击。**攻击者并不直接攻击目标服务 IP，而是利用互联网的某些特殊服务开放的服务器，通过伪造被攻击者的 IP 地址、向有开放服务的服务器发送构造的请求报文，该服务器会将数倍于请求报文的回复数据发送到被攻击 IP，从而对后者间接形成 DDoS 攻击。</p> <p>执行反射攻击，需要具备四个因素：</p> <ul><li>一个服务器：用于执行 IP 地址欺骗；</li> <li>一个脆弱的、易于反射／放大的协议：任何设计不完善的、基于 UDP 请求的协议都可能被利用；</li> <li>反射服务器列表：支持脆弱协议的服务器；</li> <li>一个目标 IP 地址：受害者的 IP 地址</li></ul> <p>攻击的整体思路如下：</p> <ul><li>攻击者发送虚假的 UDP 请求；</li> <li>伪造源 IP 地址：将请求包中的源 IP 地址替换成受害者的 IP 地址，这些请求包中通常不会出现攻击者自己的 IP 地址；</li> <li>每个请求包都发往一个随机的反射服务器；</li> <li>经过伪造的数据包通过网络传输最终到达反射服务器；</li> <li>反射服务器接收到这些虚假的请求包，遵从约定的协议规则，发送响应；无疑，这些响应都是针对受害目标的。</li></ul> <p><img src="https://blog-images-1302031947.cos.ap-guangzhou.myqcloud.com/images/image-20211106153222289.png" alt="image-20211106153222289"> 如图所示，<strong>攻击者不直接把攻击包发给受害者，而是冒充受害者给放大器发包，然后通过放大器再反射给受害者。受害目标最终会收到大量的响应包，而这些包都不是它请求的。在攻击足够大的情况下，受害目标可能会发生网络拥塞或中断风暴。</strong></p> <p>传送给受害目标的响应可能远远大于伪造的请求，这就是这类攻击被称为“放大攻击”的原因。<strong>经过精心设计，攻击者可以利用有限的资源，有效的扩大 DDOS 攻击的流量。</strong></p> <p>在反射型攻击中，攻击者利用了网络协议的缺陷或者漏洞进行 IP 欺骗，主要是因为很多协议（例如 ICMP，UDP 等）对源 IP 不进行认证。同时，要达到更好的攻击效果，黑客一般会选择具有放大效果的协议服务进行攻击。总结一下就是利用 IP 欺骗进行反射和放大，从而达到四两拨千斤的效果。</p> <h3 id="ddos-攻击类型"><a href="#ddos-攻击类型" class="header-anchor">#</a> DDOS 攻击类型</h3> <p>DDOS 攻击类型数不胜数，这里从层次上分网络层攻击与应用层攻击（详细看<a href="https://juejin.cn/post/6844903661789773832#heading-0" target="_blank" rel="noopener noreferrer">浅谈 DDOS 攻击与防御<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://securitywing.com/10-major-types-of-ddos-attacks-and-prevention/" target="_blank" rel="noopener noreferrer">10 Major Types of DDoS Attacks and Prevention<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</p> <p>网络层 DDoS 攻击常见手段有：SYN Flood、ACK Flood、Connection Flood、UDP Flood、ICMP Flood、TCP Flood、Proxy Flood 等。</p> <p>应用层 DDoS 攻击不是发生在网络层，是发生在 TCP 建立握手成功之后，应用程序处理请求的时候。常见的有：CC 攻击、DNS Flood、慢速连接攻击等。</p> <h3 id="防范措施-没法做到彻底防范"><a href="#防范措施-没法做到彻底防范" class="header-anchor">#</a> 防范措施（没法做到彻底防范）</h3> <h4 id="direct-flood-attack-udp-flood-and-ping-flood-udp-洪水和-ping-洪水"><a href="#direct-flood-attack-udp-flood-and-ping-flood-udp-洪水和-ping-洪水" class="header-anchor">#</a> Direct flood attack (UDP flood and ping flood)(UDP 洪水和 ping 洪水)</h4> <p>为了防止 UDP 或 ICMP 泛洪攻击，可以考虑增加带宽，部署一对负载平衡器，反映攻击并使用 IP 欺骗防护机制。 或者，可以通过订阅 DDoS 保护服务提供商来将恶意流量重新路由到第三方数据中心</p> <h4 id="reflection-attack-反射攻击"><a href="#reflection-attack-反射攻击" class="header-anchor">#</a> Reflection attack(反射攻击)</h4> <p>在网络中实施反欺骗技术，以检测和丢弃欺骗源 IP 地址</p> <h4 id="smurf-and-fraggle-attack-利用路由器广播地址"><a href="#smurf-and-fraggle-attack-利用路由器广播地址" class="header-anchor">#</a> Smurf and Fraggle attack(利用路由器广播地址)</h4> <p>正确地配置路由器和其他网络设备，防止有人利用你路由器的 IP 广播设施</p> <h4 id="tcp-syn-flood-attack"><a href="#tcp-syn-flood-attack" class="header-anchor">#</a> (TCP) SYN Flood Attack</h4> <p>过滤、增加积压、减少 SYN 接收定时器、回收半开的 TCP 连接、SYN 缓存、SYN cookie、防火墙等</p> <h4 id="http-flood-使用-web-spider-抓取网站-以耗尽服务器资源"><a href="#http-flood-使用-web-spider-抓取网站-以耗尽服务器资源" class="header-anchor">#</a> HTTP Flood (使用 web spider 抓取网站，以耗尽服务器资源)</h4> <p>确保只允许一个知名的引擎，如谷歌引擎或 bing 引擎爬你的网站</p> <h4 id="dns-amplification-attacks-dns-放大攻击"><a href="#dns-amplification-attacks-dns-放大攻击" class="header-anchor">#</a> DNS amplification attacks(DNS 放大攻击)</h4> <p>为了防止 DNS 反射攻击，可以使用反欺骗技术、负载均衡器或通过任播 IP 地址将攻击流量传播到其他服务器</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <blockquote><p><a href="https://insights.thoughtworks.cn/eight-security-problems-in-front-end/" target="_blank" rel="noopener noreferrer">8 大前端安全问题（上）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://insights.thoughtworks.cn/eight-security-problems-in-front-end-2/" target="_blank" rel="noopener noreferrer">8 大前端安全问题（下）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903685122703367#heading-6" target="_blank" rel="noopener noreferrer">前端安全系列（一）：如何防止 XSS 攻击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903689702866952" target="_blank" rel="noopener noreferrer">前端安全系列之二：如何防止 CSRF 攻击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://www.ruanyifeng.com/blog/2018/06/ddos.html" target="_blank" rel="noopener noreferrer">DDOS 攻击的防范教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903734309289991" target="_blank" rel="noopener noreferrer">漫话：如何给女朋友解释什么是 DDoS 攻击？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903570047762446#heading-0" target="_blank" rel="noopener noreferrer">GitHub 遭受的 DDoS 攻击到底是个什么鬼？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://securitywing.com/10-major-types-of-ddos-attacks-and-prevention/" target="_blank" rel="noopener noreferrer">10 Major Types of DDoS Attacks and Prevention<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903661789773832#heading-0" target="_blank" rel="noopener noreferrer">浅谈 DDOS 攻击与防御<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.oschina.net/translate/15-ways-to-stop-ddos-attacks-in-network" target="_blank" rel="noopener noreferrer">防范 DDOS 攻击的 15 个方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904065227292685#comment" target="_blank" rel="noopener noreferrer">你连 HTTPS 原理都不懂,还讲“中间人攻击”?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903842635579405#heading-8" target="_blank" rel="noopener noreferrer">【面试篇】寒冬求职之你必须要懂的 Web 安全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904003512303623" target="_blank" rel="noopener noreferrer">SQL 注入盘点专栏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903772930441230#heading-1" target="_blank" rel="noopener noreferrer">常见六大 Web 安全攻防解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">4 小时前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog-press/technology/computer-network/传输加密安全.html" class="prev">
        加密传输
      </a></span> <span class="next"><a href="/blog-press/technology/computer-network/图解HTTP状态码.html">
        HTTP状态码
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog-press/assets/js/app.6139d12d.js" defer></script><script src="/blog-press/assets/js/8.ae6c3984.js" defer></script><script src="/blog-press/assets/js/2.0264d6f2.js" defer></script><script src="/blog-press/assets/js/32.e9b32179.js" defer></script><script src="/blog-press/assets/js/3.d809f9f2.js" defer></script>
  </body>
</html>
